<ion-view title="Měření" id="experiment" style="background-color:#C8FFC8;" class=" ">
    <ion-content padding="true" class="has-header">
    <h3>{{institution}}<h3>
    <p>{{town}} , &nbsp {{street}} &nbsp {{number}}</b><p>
    <p>{{begin}} &nbsp - &nbsp {{end}}<p>
    <label class="item item-input">
        <span class="input-label">ID</span>
        <input type="text" placeholder="" ng-model="personID" >
    </label>
    <button class="text-right button button-block button-positive icon icon-left ion-qr-scanner"
                ng-click="scanBarcode()">
            QR
    </button>

    <ion-list>        
        <ion-item ng-repeat-start="dotazniky in objects" style="display:none;"></ion-item>
        <h4 align="center">{{dotazniky.name}}</h4>
        <ion-list>        
            <ion-item ng-repeat-start="dotaznik in dotazniky.dotaznik" style="display:none;"></ion-item>
            
            <ion-row class="item item-calm">
                <ion-col>{{dotaznik.name}}, ID: {{dotaznik.expID}} &nbsp</ion-col>
                <ion-col ng-if="dotaznik.units != ''">[{{dotaznik.units}}]</ion-col>
                <ion-col class="assertive" ng-if="dotaznik.required">* &nbsp</ion-col>
                
                <ion-col ng-if="dotaznik.formType == 'file'">
                    <button class="text-right button button-small button-positive icon icon-left ion-arrow-round-up" 
                            ng-click="">
                        Nahrát soubor
                    </button>
                </ion-col>
            </ion-row>

            <label class="item item-input" ng-if="dotaznik.formType == 'integer'">
                <input type="number" placeholder="{{dotaznik.formLabels[0]}}" ng-model="dotaznik.data[0]" >
            </label>

            <label class="item item-input" ng-if="dotaznik.formType == 'float'">
                <input  type="number" placeholder="{{dotaznik.formLabels[0]}}" ng-model="dotaznik.data[0]">
            </label>

            <label class="item item-input" ng-if="dotaznik.formType == 'text'">
                <input type="text" placeholder="{{dotaznik.formLabels[0]}}" ng-model="dotaznik.data[0]">
            </label>

            <ion-checkbox ng-if="dotaznik.formType == 'checkbox'"
                ng-repeat="label in dotaznik.formLabels"               
                ng-model="dotaznik.data[label]"            
                ng-true-value="1"
                ng-false-value="0"
                name="label">
                {{ label }}
            </ion-checkbox>
            
            <ion-radio ng-if="dotaznik.formType == 'radio'"
                ng-repeat="label in dotaznik.formLabels"
                ng-value="label"
                ng-model="dotaznik.data[0]"
                name="label">
                {{ label }}
            </ion-radio>
            
            <div class="spacer" style="height: 10px;"></div>

            <ion-item ng-repeat-end="dotaznik in dotazniky" style="display:none;"></ion-item>
        </ion-list>
        
        <ion-item ng-repeat-end="dotazniky in objects" style="display:none;"></ion-item>
    </ion-list>

    <button id="form-button1" class=" button button-positive button-block " ng-click="showConfirm()">
        Uložit
    </button>

    </ion-content>
</ion-view>